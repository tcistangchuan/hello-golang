(1)mySQL 主从复制模式
异步模式：（默认）
MySQL 主从复制默认是异步的模式。MySQL增删改操作会全部记录在binary log(二进制日志)中，slave节点会主动从master处获取最新的bin log文件,并写入relay log(中继日志)，slave sql线程将中继日志写入数据库。

半同步模式：
指的就是主库写入binlog日志之后，就会将强制立即将数据同步到从库，从库将日志写入自己本地的relay log之后，从库将relay log数据写入数据库。
　　
MySQL复制流程：
异步：客户请求-》master产生binlog-》客户请求成功
半同步：客户请求-》master产生binlog-》IO传输给slave-》slave写入中继日志-》master收到slave已成功写入中继日志的消息-》客户请求成功
(半同步复制：一主多从模式下，有一个从节点返回成功，即成功，不必等待多个节点全部返回)
同步：客户请求-》master产生binlog-》IO传输给slave-》slave写入中继日志-》SQL线程重演日志-》master收到slave已成功写入中继日志的消息-》客户请求成功

（2）MySQL 主从复制主要有以下几种方式：
基于 SQL 语句的复制(默认)
基于行的复制;
区别;主服务器上执行 UPDATE 语句时，所有发生变化的记录都会写到 binlog 中，这会导致频繁发生 binlog 的并发写问题，而基于sql语句复制只会写一次。
任何情况都基于行都是可以被复制，这对复制来说是最安全可靠的。基于sql语句的复制方式，效率要快点，但是不是最安全的方式。

（3）mysql的主从同步延时问题
　　可以通过配置一些参数来降低延迟，但不是根本解决主从同步的方法，这个延迟时间一般在写并发在1000的时候延迟时间一般是几毫秒，在2000
的时候会有几十毫秒，在4000、6000、8000并发时一般会达到几秒。
　　所以一般说，可以采用如下方案：
　　1.分库，将一个主库拆分为4个主库，每个主库的写并发就500/s，此时主从延迟可以忽略不计
　　2.打开mysql支持的并行复制，多个库并行复制，如果说某个库的写入并发就是特别高，单库写 并发达到了2000/s，并行复制还是没意义。
　　3.重写代码，写代码的同学，要慎重，插入数据之后，直接就更新，不要查询。
　　4.如果确实是存在必须先插入，立马要求就查询到，然后立马就要反过来执行一些操作，对这个查询设置直连主库。不推荐这种方法，这么搞导
致读写分离的意义就丧失了。