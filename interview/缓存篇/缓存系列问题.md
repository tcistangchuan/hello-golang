参考：https://blog.csdn.net/Box_clf/article/details/84404759

- 为什么使用缓存

  ```
  提高程序性能和并发（简单说法，提高查询效率）
  ```

- 用缓存可能出现的问题和解决方案

  ```
  1.数据库和缓存不一致问题
  链接：https://zhuanlan.zhihu.com/p/62232835
  
  2.缓存穿透
  原因：产生这个问题的原因可能是外部的恶意攻击，访问缓存层不存在的信息导致访问数据库，例如，对用户信息进行了缓存，但恶意攻击者使用不存在的用户id频繁请求接口，导致查询缓存不命中，然后穿透 DB 查询依然不命中。这时会有大量请求穿透缓存访问到 DB。
  解决方法：
  		方案一：在第一次查询不存在的用户之后，在缓存中保存一个空对象，防止相同id再次访问db。不过并不能完全解决问题。
  		方案二：采用布隆过滤器，将所有存在数据的id存在一个大的map中，避免从先验证id是否在map中，不在再去db去查询
  		
  3.缓存击穿
  原因：缓存在某个时间点过期的时候，恰好在这个时间点对这个Key有大量的并发请求过来，这些请求发现缓存过期一般都会从后端DB加载数据并回设到缓存，这个时候大并发的请求可能会瞬间把后端DB压垮。
  解决方案：
  			在未查询到缓存之后，去查db之前利用分加锁的原理（或者将请求放入一个队列），用setnx 命令设置一个key,设置成功查询db更新缓存；设置失败（已存在）重试之前查询缓存的操作。
  
  	
  4.缓存雪崩
  原因：与缓存击穿的区别在于这里针对很多key缓存在同一时间过期，前者则是某一个key。
  解决方案：
  	在原有过期时间上加一个随机值，多个key同时失效问题+缓存击穿的方案
  
  ```



